title: Bazzite Portal
properties:
  mode: "run-once"
  save_state: "always"
screens:
  first-screen:
    source: yafti.screen.title
    values:
      title: "Welcome to Bazzite (Handheld & HTPC Edition)"
      icon: "/usr/share/ublue-os/bazzite/logo.svg"
      description: |
        Configure your system to get started. This utility can be re-opened at any time, so don't feel like you have to get it perfect your first go-through.  This may take a long time to install applications and you can view the progress by pressing the "Show Console" button.  If you did not select anything, then press "Next" twice to continue.
  configure-bazzite:
  configure-bazzite:
    source: yafti.screen.package
    values:
      title: Setting up Bazzite
      show_terminal: true
      package_manager: yafti.plugin.run
      groups:
        Add input group to current user:
          description: Adds the input group to your current user. Required by certain controller drivers.
          default: true
          packages:
          - Set input group: sudo -A ujust add-user-to-input-group
        BIOS &amp; Firmware Updates:
          description: Enables BIOS &amp; Firmware updates for Steam Deck hardware
          default: true
          packages:
          - Enable Updates: sudo -A ujust enable-deck-bios-firmware-updates
        Decky Loader:
          description: A plugin loader for the Steam Deck
          default: false
          packages:
          - Retrieve Decky: sudo -A ujust setup-decky install
        EmuDeck:
          description: |
            A utility for installing and configuring emulators on the Steam Deck
          default: false
          packages:
          - Retrieve EmuDeck: ujust get-emudeck
        Sunshine:
          description: A self-hosted game stream host for Moonlight
          default: false
          packages:
          - Install Sunshine: ujust setup-sunshine install
          - Autostart Sunshine: ujust setup-sunshine autostart
        Hide GRUB Menu:
          description: |
            NOTE: Press the Escape key before boot to show the menu
          default: true
          packages:
          - Hide GRUB: sudo -A ujust configure-grub hide
        Install Game Mode Startup Video:
          description: Adds a Bazzite themed startup video for Steam's game mode.
          default: true
          packages:
          - Install Video: ujust install-gamemode-video
        Fix Steam Download Speed:
          description: Adds a config file that fixes download speed under Steam for Linux.
          default: true
          packages:
          - Fix Download Speed: ujust fix-steam-download-speed
        Oversteer:
          description: Application to control supported steering wheels
          default: false
          packages:
          - Install Oversteer: ujust install-oversteer
        OpenRazer:
          description: Enables additional capabilities for Razer Hardware
          default: false
          packages:
          - Install OpenRazer: ujust install-openrazer
        Solaar:
          description: Application to control Logitech Mice, Keyboards, and Trackpads
          default: false
          packages:
          - Install Solaar: ujust install-solaar
        Wootility:
          description: A configurator for Wooting keyboards
          default: false
          packages:
          - Retrieve Wootility: ujust install-wootility
        OpenTabletDriver:
          description: Open source, cross-platform, user-mode tablet driver
          default: false
          packages:
          - Install OpenTabletDriver: ujust install-opentabletdriver
        Resilio Sync:
          description: A file synchronization utility powered by BitTorrent
          default: false
          packages:
          - Install Resilio Sync: ujust install-resilio-sync
        scrcpy:
          description: scrcpy provides display and control of Android devices connected on USB (or over TCP/IP)
          default: false
          packages:
          - Install scrcpy: ujust install-scrcpy
        SteamCMD:
          description: Installs SteamCMD
          default: true
          packages:
          - Install SteamCMD: ujust install-steamcmd
        Use EXT4 for SD Cards:
          description: Disable BTRFS support for SD cards for direct compatibility with SD cards formatted on stock SteamOS (Not recommended).
          default: false
          packages:
          - Switch SteamOS-BTRFS config to EXT4: sudo -A ujust switch-to-ext4
  applications:
    source: yafti.screen.package
    values:
      title: Application Installation
      show_terminal: true
      package_manager: yafti.plugin.flatpak
      package_manager_defaults:
        user: true
        system: false
      groups:
        Web Browsers:
          description: Additional browsers to complement Firefox
          default: false
          packages:
          - Brave: com.brave.Browser
          - Google Chrome: com.google.Chrome
          - LibreWolf: io.gitlab.librewolf-community
          - Microsoft Edge: com.microsoft.Edge
          - Opera: com.opera.Opera
          - Vivaldi: com.vivaldi.Vivaldi
        Communication:
          description: Voice & text chat
          default: false
          packages:
          - Discord: com.discordapp.Discord
          - Element: im.riot.Riot
          - Mumble: info.mumble.Mumble
          - TeamSpeak: com.teamspeak.TeamSpeak
          - Slack: com.slack.Slack
        Gaming Frontends and Tools:
          description: For all your gaming needs
          default: false
          packages:
          - BoilR: io.github.philipk.boilr
          - Bottles: com.usebottles.bottles
          - DOSBox-X: com.dosbox_x.DOSBox-X
          - GeForce NOW Electron: io.github.hmlendea.geforcenow-electron
          - Heroic Games Launcher (GOG &amp; Epic): com.heroicgameslauncher.hgl
          - itch: io.itch.itch
          - ludusavi (Game Save Backup): com.github.mtkennerly.ludusavi
          - Minecraft (Prism Launcher): org.prismlauncher.PrismLauncher
          - Minecraft Bedrock Launcher: io.mrarm.mcpelauncher
          - XIV Launcher (Final Fantasy XIV): dev.goats.xivlauncher
        Game Streaming:
          description: Cloud not-so-native computing
          default: false
          packages:
          - Chiaki4Deck (PlayStation Remote Play): io.github.streetpea.Chiaki4deck
          - GeForce NOW Electron: io.github.hmlendea.geforcenow-electron
          - Greenlight: io.github.unknownskl.greenlight
          - Moonlight: com.moonlight_stream.Moonlight
          - Steam Link: com.valvesoftware.SteamLink
        Free Games:
          description: Freebies
          default: false
          packages:
          - Battle for Wesnoth: org.wesnoth.Wesnoth
          - Beyond All Reason: info.beyondallreason.bar
          - Cave Story NX: com.gitlab.coringao.cavestory-nx
          - Freedoom 1: io.github.freedoom.Phase1
          - Mindustry: com.github.Anuken.Mindustry
          - Minetest: net.minetest.Minetest
          - OpenRA: net.openra.OpenRA
          - OpenRCT2: io.openrct2.OpenRCT2
          - OpenTTD: org.openttd.OpenTTD
          - osu: sh.ppy.osu
          - Space Cadet Pinball: com.github.k4zmu2a.spacecadetpinball
          - Sonic Robo Blast 2: org.srb2.SRB2
          - Sonic Robo Blast 2 Kart: org.srb2.SRB2Kart
          - SuperTux: org.supertuxproject.SuperTux
          - SuperTuxKart: net.supertuxkart.SuperTuxKart
          - Xonotic: org.xonotic.Xonotic
        Emulation:
          description: Play games like it's 1972 (Leave these all unchecked if you're planning to use EmuDeck)
          default: false
          packages:
          - Cemu: info.cemu.Cemu
          - Dolphin: org.DolphinEmu.dolphin-emu
          - DuckStation: org.duckstation.DuckStation
          - MAME: org.mamedev.MAME
          - melonDS: net.kuribo64.melonDS
          - mGBA: io.mgba.mGBA
          - PCSX2: net.pcsx2.PCSX2
          - Parallel Launcher: ca.parallel_launcher.ParallelLauncher
          - Pegasus: org.pegasus_frontend.Pegasus
          - PPSSPP: org.ppsspp.PPSSPP
          - RetroArch: org.libretro.RetroArch
          - RetroDECK: net.retrodeck.retrodeck
          - Rosalie's Mupen GUI: com.github.Rosalie241.RMG
          - RPCS3: net.rpcs3.RPCS3
          - Ryujinx: org.ryujinx.Ryujinx
          - ScummVM: org.scummvm.ScummVM
          - Snes9x: com.snes9x.Snes9x
          - xemu: app.xemu.xemu
        Multi-Media, Office, and Productivity:
          description: Bow to Capitalism
          default: false
          packages:
          - Ardour: org.ardour.Ardour
          - Blender: org.blender.Blender
          - Cider (Apple Music): sh.cider.Cider
          - darktable: org.darktable.Darktable
          - GIMP: org.gimp.GIMP
          - Inkscape: org.inkscape.Inkscape
          - Joplin: net.cozic.joplin_desktop
          - Kdenlive: org.kde.kdenlive
          - Krita: org.kde.krita
          - LibreOffice: org.libreoffice.LibreOffice
          - Obsidian: md.obsidian.Obsidian
          - OnlyOffice: org.onlyoffice.desktopeditors
          - Planify: io.github.alainm23.planify
          - Spotify: com.spotify.Client
          - Standard Notes: org.standardnotes.standardnotes
          - Strawberry Music Player: org.strawberrymusicplayer.strawberry
          - Tenacity: org.tenacityaudio.Tenacity
          - Tidal-hifi: com.mastermindzh.tidal-hifi
          - Thunderbird Email: org.mozilla.Thunderbird
          - VLC: org.videolan.VLC
          - Xournal++: com.github.xournalpp.xournalpp
        Utilities and System Tools:
          description: Helpful utilties for your device
          default: false
          packages:
          - AppImage Pool: io.github.prateekmedia.appimagepool
          - Barrier: com.github.debauchee.barrier
          - Boatswain for Streamdeck: com.feaneron.Boatswain
          - Bitwarden: com.bitwarden.desktop
          - Calibre: com.calibre_ebook.calibre
          - DejaDup: org.gnome.DejaDup
          - Easy Effects: com.github.wwmm.easyeffects
          - Fedora Media Writer: org.fedoraproject.MediaWriter
          - Gradience: com.github.GradienceTeam.Gradience
          - JamesDSP: me.timschneeberger.jdsp4linux
          - KeePassXC: org.keepassxc.KeePassXC
          - Metadata Cleaner: fr.romainvigier.MetadataCleaner
          - OpenRGB: org.openrgb.OpenRGB
          - Pika Backup: org.gnome.World.PikaBackup
          - PinApp: io.github.fabrialberio.pinapp
          - Pods: com.github.marhkb.Pods
          - qBittorrent: org.qbittorrent.qBittorrent
          - SaveDesktop: io.github.vikdevelop.SaveDesktop
          - Syncthing: com.github.zocker_160.SyncThingy
  final-screen:
    source: yafti.screen.title
    values:
      title: "All done!"
      icon: "/usr/share/ublue-os/bazzite/logo.svg"
      links:
      - "Install More Applications":
          run: /usr/bin/plasma-discover
      - "Documentation":
          run: /usr/bin/xdg-open https://docs.bazzite.gg
      - "Forums":
          run: /usr/bin/xdg-open https://universal-blue.discourse.group/c/bazzite/5
      - "Join the Discord Community":
          run: /usr/bin/xdg-open https://discord.gg/XjG48C7VHx
      - "Reboot now":
          run: systemctl reboot
      description: |
        Thank you for trying Bazzite (Steam Deck / HTPC / Handheld-PC Edition). Please reboot to apply changes made by this setup utility.
